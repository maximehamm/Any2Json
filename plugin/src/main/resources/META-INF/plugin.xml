<idea-plugin>
    <id>io.nimbly.json.Any2Json</id>
    <name>Any to Json</name>
    <vendor email="maxime.hamm@gmail.com"
            url="https://www.linkedin.com/in/maxime-hamm/">Maxime HAMM</vendor>

    <!-- https://plugins.jetbrains.com/plugin/16055-any-to-json -->

    <description><![CDATA[

        <b>Prettify Json in your code :</b><br/>
        <ul>
          <li>Select a string literal containing some Json</i></li>
          <li>Select "Prettify Json"</li>
          <li>Let's see your literal turned into a multilined prettified Json !
              <p><img src="https://plugins.jetbrains.com/files/16055/screenshot_838e390e-dcc2-4903-82fa-a1a7da16d257"
                  alt="Any to Json" width="419" height="233"></p>
          </li>
        </ul>
        <br/>
        <b>Copy Json literal to clipboard :</b><br/>
        <ul>
          <li>Select a string literal containing some Json</li>
          <li>Select "Copy Json"</li>
          <li>Paste Json anywhere !"</li>
        </ul>

       <br/>
       <b>Converting "Anything" to Json !</b><br/>
       <ul>
          <li>Select what to convert to Json,
              for example a class, a table, an xml or yaml file, a variable in debugger, etc.</li>
          <li>Do right click</li>
          <li>Select "Convert to Json"</li>
          <li>Paste Json anywhere !"</li>
       </ul>

       <br/>
       <br/>
       <b>Where is Any to Json available ?</b><br/>
       <ul>
          <li>From Java editor: right click near class name</li>
          <li>From Kotlin editor: right click near class name</li>
          <li>From TypeScript editor: right click near type name (Ultimate Edition is required)</li>
          <li>From Debugger Variable: expand variable, then right click on a it</li>
          <li>From XML editor: right click near tag name in file named *.xml</li>
          <li>From CSV editor: right click anywhere in file named *.csv</li>
          <li>From YAML editor: right click anywhere in file named *.yaml or *.yml</li>
          <li>From Java Properties editor: right click anywhere in file named *.properties</li>
          <li>From Database view : right click onto table name</li>
          <li>From Database result view : right click onto any line</li>
       </ul>

       <br/>
       <b>Where is Json prettifier available ?</b><br/>
       <ul>
          <li>Kotlin editor<br/>
              for example:<br/><i>
              &nbsp;&nbsp;val json = """{ "id":633,"type":"T1" }"""</i><br/>
              will be :<br/><i>
              &nbsp;&nbsp;val json = """{<br/>
              &nbsp;&nbsp;&nbsp;&nbsp;"id": 633,<br/>
              &nbsp;&nbsp;&nbsp;&nbsp;"type": "T1"<br/>
              &nbsp;&nbsp;}"""</i><br/>
          </li>
          <li>Java editor. For example: <i>String json = "{ \"id\":633, \"type\": \"T1\" }"</i></li>
          <li>PHP editor. For example: <i>&lt;?php $json = '{"a":1,"b":2,"c":3, "x": {"d":4, "e":5} }';</i></li>
          <li>Python editor. For example: <i>json = """{"a":1,"b":2,"c":3, "x" : {"d":4, "e":5} }"""</i></li>
       </ul>

       <br/>
       <b>Where is copy prettified Json to clipboard available ?</b><br/>
       <ul>
          <li>Java editor</li>
          <li>Kotlin editor</li>
          <li>PHP editor</li>
          <li>Python editor</li>
       </ul>

       <br/>
       Any suggestion ? Let me know !<br/>
       <br/>

       <i>@author Maxime HAMM</i>
       <br/>
       <br/>
       <a href="https://github.com/maximehamm/Any2Json">https://github.com/maximehamm/Any2Json</a>

    ]]></description>

    <!-- please see https://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/plugin_compatibility.html
         on how to target different products -->

    <extensions defaultExtensionNs="com.intellij">
        <notificationGroup id="io.nimbly.notification.group" displayType="BALLOON"/>
    </extensions>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.lang</depends>

    <!-- Optional dependencies
    https://jetbrains.org/intellij/sdk/docs/basics/plugin_structure/plugin_dependencies.html#optional-plugin-dependencies -->
    <depends optional="true" config-file="plugin-withJava.xml">com.intellij.java</depends>
    <depends optional="true" config-file="plugin-withKotlin.xml">org.jetbrains.kotlin</depends>
    <depends optional="true" config-file="plugin-withTypeScript.xml">JavaScript</depends>
    <depends optional="true" config-file="plugin-withDatabase.xml">com.intellij.modules.database</depends>
    <depends optional="true" config-file="plugin-withPhp.xml">com.jetbrains.php</depends>
    <depends optional="true" config-file="plugin-withPython.xml">com.intellij.modules.python</depends>

    <!-- Extension point
    https://developerlife.com/2020/11/21/idea-plugin-example-intro/#extensions-and-extension-points -->

    <extensionPoints>
        <extensionPoint name="io.nimbly.json.Any2Json.lang" interface="io.nimbly.any2json.Any2JsonExtensionPoint"/>
    </extensionPoints>
    <extensionPoints>
        <extensionPoint name="io.nimbly.json.Any2Json.debugger" interface="io.nimbly.any2json.Any2JsonDebuggerExtensionPoint"/>
    </extensionPoints>
    <extensionPoints>
        <extensionPoint name="io.nimbly.json.Any2Json.prettify" interface="io.nimbly.any2json.Any2JsonPrettifyExtensionPoint"/>
    </extensionPoints>
    <extensionPoints>
        <extensionPoint name="io.nimbly.json.Any2Json.copy" interface="io.nimbly.any2json.Any2JsonCopyExtensionPoint"/>
    </extensionPoints>


    <extensions defaultExtensionNs="io.nimbly.json.Any2Json">
        <io.nimbly.json.Any2Json.lang implementation="io.nimbly.any2json.XmlToJson">
        </io.nimbly.json.Any2Json.lang>
    </extensions>
    <extensions defaultExtensionNs="io.nimbly.json.Any2Json">
        <io.nimbly.json.Any2Json.lang implementation="io.nimbly.any2json.CsvToJson">
        </io.nimbly.json.Any2Json.lang>
    </extensions>
    <extensions defaultExtensionNs="io.nimbly.json.Any2Json">
        <io.nimbly.json.Any2Json.lang implementation="io.nimbly.any2json.PropertiesToJson">
        </io.nimbly.json.Any2Json.lang>
    </extensions>
    <extensions defaultExtensionNs="io.nimbly.json.Any2Json">
        <io.nimbly.json.Any2Json.lang implementation="io.nimbly.any2json.YamlToJson">
        </io.nimbly.json.Any2Json.lang>
    </extensions>
    <extensions defaultExtensionNs="io.nimbly.json.Any2Json">
        <io.nimbly.json.Any2Json.lang implementation="io.nimbly.any2json.DebuggerToJson">
        </io.nimbly.json.Any2Json.lang>
    </extensions>

    <extensions defaultExtensionNs="io.nimbly.json.Any2Json">
        <io.nimbly.json.Any2Json.prettify implementation="io.nimbly.any2json.JsonPrettify">
        </io.nimbly.json.Any2Json.prettify>
    </extensions>
    <extensions defaultExtensionNs="io.nimbly.json.Any2Json">
        <io.nimbly.json.Any2Json.copy implementation="io.nimbly.any2json.JsonCopy">
        </io.nimbly.json.Any2Json.copy>
    </extensions>

    <actions>

        <group id="io.nimbly.any2json.Any2Json">

            <separator/>

            <action class="io.nimbly.any2json.Any2JsonDefaultAction"
                    id="io.nimbly.any2json.ANY2JsonDefaultAction"
                    text="Generate Json"
                    description="Convert to Json and copy to clipboard">
            </action>

            <action class="io.nimbly.any2json.Any2JsonRandomAction"
                    id="io.nimbly.any2json.ANY2JsonRandomAction"
                    text="Generate Json with Values"
                    description="Convert to Json randomly, generate test data and copy to clipboard">
            </action>

            <add-to-group group-id="CutCopyPasteGroup" anchor="last"/>
            <add-to-group group-id="EditorPopupMenu" anchor="after" relative-to-action="EditorToggleColumnMode"/>

            <add-to-group group-id="XDebugger.Watches.Tree.Popup" anchor="last"/>
            <add-to-group group-id="XDebugger.Watches.Tree.Toolbar" anchor="last"/>
            <add-to-group group-id="XDebugger.Watches.Inline.Popup" anchor="last"/>

        </group>

        <group id="io.nimbly.any2json.Any2Json.pretty">

            <separator/>

            <action class="io.nimbly.any2json.Any2JsonPrettifyAction"
                    id="io.nimbly.any2json.Any2JsonPrettifyAction"
                    text="Convert to prettified Json"
                    description="Prettify Json and replace literal value with it">
            </action>

            <action class="io.nimbly.any2json.Any2JsonCopyAction"
                    id="io.nimbly.any2json.Any2JsonCopyAction"
                    text="Copy as prettified Json"
                    description="Prettify Json and copy to clipboard">
            </action>

            <add-to-group group-id="CutCopyPasteGroup" anchor="last"/>
            <add-to-group group-id="EditorPopupMenu" anchor="after" relative-to-action="EditorToggleColumnMode"/>

        </group>
    </actions>

</idea-plugin>